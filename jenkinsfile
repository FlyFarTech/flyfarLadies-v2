pipeline {
    agent any
    stages {
        stage('Build and Deploy') {
            steps {
                // SSH into the remote server using SSH Agent
                sshagent(['api_ladies']) {
                    // Run docker-compose up command to build and start Docker containers
                    sh 'ssh root@159.89.238.24 "cd /www/wwwroot/api.flyfarladies.com && bash flyfar_ladies.sh"'
                }
            }
        }
    }
}
